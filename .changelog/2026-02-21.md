# Changelog — 2026-02-21

## 00:15 — GraphQL security hardening (Show HN DoS protection)

**Task:** Fix GraphQL DoS vectors identified by security audit

**Changes:**
- backend/src/graphql/index.ts — Add custom query depth limiting rule (max depth 5) to prevent exponential nested queries; disable introspection in production to prevent schema enumeration
- backend/src/middleware/rate-limit.ts — Add dedicated graphqlLimiter (30 req/min) to prevent batch query abuse
- backend/src/app.ts — Mount graphqlLimiter on /api/v1/graphql; fix demo rate limit comment (was "3 req/min", actual is 10)

**Decisions:**
- Wrote custom depth limit rule inline instead of adding graphql-depth-limit dependency (zero new deps)
- Set depth limit to 5 — enough for accounts→contacts→company→signals→source but blocks deeper abuse
- GraphQL rate limit at 30 req/min — stricter than general API (100/min) since each request can batch multiple queries
- Kept demo limit at 10 req/min (not 3) — reasonable for Show HN traffic surge

**Status:** completed
