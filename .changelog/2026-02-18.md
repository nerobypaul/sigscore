## 08:00 — Stability & Mobile UX: Process Handlers, Mobile Nav, AuthContext, Dep Cleanup

**Task:** Autonomous iteration — simplicity, logic, stability, lean

**Changes (7 files):**

**Mobile navigation (critical UX fix):**
- frontend/src/components/PublicNav.tsx — Added hamburger menu for mobile; dropdown shows all nav links + Sign in on small screens
- frontend/src/pages/Landing.tsx — Added same hamburger menu to Landing's custom nav (includes #features, #how-it-works anchor links)

**Backend stability (critical):**
- backend/src/server.ts — Added process.on('uncaughtException') with graceful shutdown and process.on('unhandledRejection') with logging
- backend/src/worker.ts — Same handlers for the standalone worker process

**Frontend performance:**
- frontend/src/lib/auth.tsx — Memoized AuthContext.Provider value with useMemo to prevent cascade re-renders across 83 useAuth consumers
- frontend/package.json — Removed unused @tanstack/react-query dependency (was installed but never imported)
- package-lock.json — Updated lockfile

**Decisions:**
- Landing keeps its own nav (has #features and #how-it-works anchor links unique to that page) — only mobile menu was added
- uncaughtException triggers graceful shutdown (same as SIGTERM); unhandledRejection only logs (to avoid killing process for recoverable issues)
- react-query removed rather than adopted — direct axios calls are simpler for current scale, no need for request deduplication yet

**Status:** completed

---

## 09:30 — Demo Mode Polish: Onboarding Hints, Cleanup Cron, Conversion Banner

**Task:** Autonomous iteration — demo mode UX improvements for Show HN readiness

**Changes (8 files):**

**New: Demo onboarding overlay:**
- frontend/src/components/DemoOnboardingHints.tsx — NEW: 4-step guided callout overlay for demo visitors (Welcome → Signal Feed → PQA Scores → CTA to register). Fixed bottom-right card, sessionStorage once-per-session, highlights sidebar elements via data-tour attributes
- frontend/src/components/Layout.tsx — Added DemoOnboardingHints render inside authenticated layout

**New: Demo cleanup cron job:**
- backend/src/jobs/queue.ts — Added DEMO_CLEANUP queue, DemoCleanupJobData type, demoCleanupQueue instance
- backend/src/jobs/workers.ts — Added demo cleanup worker: finds orgs with slug starting 'devsignal-demo' older than 24h, calls cleanupDemoOrg for each
- backend/src/jobs/scheduler.ts — Added daily 4 AM UTC cron for demo cleanup
- backend/src/jobs/index.ts — Exported new queue and type
- backend/src/services/demo-seed.ts — Exported cleanupDemoOrg function (was private)

**Enhanced: Demo conversion banner:**
- frontend/src/components/DemoModeBanner.tsx — Rewritten with dual CTAs: green "Start Free — 2 min setup" button + "Connect GitHub" secondary link. Shows "8 accounts, 395 signals, AI briefs — all interactive" messaging. Dismissible per session.

**Decisions:**
- Demo orgs cleaned after 24h (not 1h) — gives visitors time to return and explore more
- Onboarding overlay uses sessionStorage not localStorage — shows once per browser session, reappears if visitor returns later
- DemoModeBanner dismiss is useState (not persisted) — reappears on page reload to keep conversion CTA visible
- Cleanup cron at 4 AM UTC avoids overlap with score-snapshot cron at 2 AM

**Status:** completed
