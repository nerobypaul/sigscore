## 12:00 -- Fix auth and onboarding UX: branding, progress indicators, aha-moment bridge

**Task:** Fix branding issues, missing progress indicators, and broken aha-moment-to-action bridge across Register, Login, Onboarding, and GettingStarted components

**Changes:**
- frontend/src/pages/Register.tsx -- Changed "Headless CRM" to "DevSignal", added "Developer Signal Intelligence" tagline, added social proof ("Join 50+ devtool companies")
- frontend/src/pages/Login.tsx -- Added "Developer Signal Intelligence" tagline, added "Forgot password?" link below password field, added humanizeOAuthError() function that maps raw OAuth error codes to friendly messages
- frontend/src/pages/Onboarding.tsx -- Added "Step N of 3" progress text to Steps 1 and 2, added domain field help text, changed token validation button to "Validating token..." text, added help text explaining what GitHub scan does, added celebration banner on Step 3, added 3 "What's Next" action cards (View companies, Set up Slack, Explore PQA scores), changed CTA from "Go to Dashboard" to "Go to your Companies" linking to /companies, added Link import
- frontend/src/components/GettingStarted.tsx -- Rewritten: persistent display (only manual dismiss via X button), prominent "Setup: N% complete" badge, reordered steps by impact (Connect GitHub, Review accounts, Set up Slack, Create workflow, Invite team), each step has description text and a CTA button instead of just a checkbox link, added workflow count fetch

**Decisions:**
- OAuth error mapping covers 7 common error codes plus a generic fallback
- Forgot password link uses href="#" with preventDefault since password reset is not yet implemented
- GettingStarted Slack step always marked not done since no API to detect Slack connection status
- Onboarding Step 3 navigation changed from "/" to "/companies" for aha-moment continuity
- Removed "Create your organization" and "Install the SDK" from GettingStarted in favor of higher-impact actions

**Status:** completed

## 14:00 -- Twitter/X mention tracking connector

**Task:** Build a Twitter/X connector for DevSignal that monitors tweets mentioning a customer's product with sentiment analysis

**Changes:**
- backend/prisma/schema.prisma -- Added TWITTER to SignalSourceType enum
- backend/src/services/twitter-connector.ts -- Core connector service: configureTwitter, getTwitterConfig, disconnectTwitter, syncTwitterMentions, getTwitterConnectedOrganizations, identity resolution, sentiment classification (positive/negative/neutral), tweet type classification (mention/question/complaint/praise), rate limit handling (429 + x-rate-limit-reset)
- backend/src/routes/twitter-connector.ts -- REST API routes: POST /connect, GET /status, POST /sync, DELETE /disconnect (all ADMIN-only with authenticate + requireOrganization)
- backend/src/jobs/queue.ts -- Added TWITTER_SYNC queue name, TwitterSyncJobData interface, twitterSyncQueue instance
- backend/src/jobs/producers.ts -- Added enqueueTwitterSync with per-org deduplication
- backend/src/jobs/workers.ts -- Added Twitter sync worker with scheduler sentinel handling
- backend/src/jobs/scheduler.ts -- Added 30-minute cron for Twitter sync, enqueueTwitterSyncForAllConnected helper
- backend/src/app.ts -- Mounted twitter connector routes at /api/v1/connectors/twitter
- frontend/src/pages/Settings.tsx -- Added Twitter/X tab with: bearer token input, keywords input (comma-separated), connected status with sentiment breakdown (color-coded bar + badges), sync now / disconnect buttons, setup instructions

**Decisions:**
- Used 30-minute sync interval (same as Discord) since mentions are time-sensitive
- Keyword-based sentiment classification (positive/negative/neutral) using curated word lists rather than ML model, keeping it zero-dependency
- Bearer token auth (Twitter API v2 Basic tier) rather than OAuth user tokens since we only need read access to public tweets
- Store signals with types: twitter_mention (default), twitter_question (?), twitter_complaint (negative), twitter_praise (positive)
- Identity resolution: match by existing Twitter ContactIdentity, then by name matching, then by domain extraction from bio
- Rate limit handling: respect 429 + Retry-After/x-rate-limit-reset headers, cap wait at 5 minutes

**Open questions:**
- Twitter API v2 Basic tier costs $100/mo per app -- should we document this cost for customers?
- Should we add a "recent mentions preview" widget showing last 5 tweets directly in Settings?

**Status:** completed

## 16:30 -- Clearbit company & contact enrichment service

**Task:** Build a Clearbit enrichment service that automatically enriches company records with firmographic data and contact records with professional data

**Changes:**
- backend/src/services/clearbit-enrichment.ts -- Core enrichment service: configureClearbit, getClearbitConfig, disconnectClearbit, enrichCompany (16 field mappings including tech stack), enrichContact (10 field mappings), bulkEnrichCompanies, bulkEnrichContacts, getEnrichmentStats, getConnectedOrganizations. Redis caching (24h), rate limiting (600ms delay + 429 backoff), batch processing (10 per batch, 1s delay)
- backend/src/routes/enrichment.ts -- REST API routes: POST /connect (ADMIN), GET /status (ADMIN), POST /companies/:id (MEMBER), POST /contacts/:id (MEMBER), POST /bulk/companies (ADMIN), POST /bulk/contacts (ADMIN), DELETE /disconnect (ADMIN)
- backend/src/jobs/queue.ts -- Added ENRICHMENT_BULK queue name, BulkEnrichmentJobData interface, bulkEnrichmentQueue instance
- backend/src/jobs/producers.ts -- Added enqueueBulkEnrichment with per-org+type deduplication
- backend/src/jobs/workers.ts -- Added bulk enrichment worker with scheduler sentinel handling, concurrency 1 to respect rate limits
- backend/src/jobs/scheduler.ts -- Added daily 3 AM cron for auto-enrichment of new companies, enqueueClearbitEnrichmentForAllConnected helper
- backend/src/app.ts -- Mounted enrichment routes at /api/v1/enrichment
- frontend/src/pages/Settings.tsx -- Added Clearbit tab with: API key input (with link to clearbit.com dashboard), connected status with enrichment timestamps, company/contact coverage stats with progress bars (percentage + counts), bulk enrichment buttons for both companies and contacts, info card explaining what fields get enriched, disconnect button

**Decisions:**
- Stored Clearbit API key in organization.settings JSON (same pattern as HubSpot/Discord/etc.)
- Only overwrite core fields (name, description) if currently empty to avoid clobbering user edits; always update industry/size/website and customFields since enrichment data is authoritative
- Tech stack stored in customFields.techStack as an array -- extremely valuable for devtool companies to see what potential customers are already using
- Enrichment results cached in Redis for 24h (clearbit:company:{domain}, clearbit:person:{email}) to minimize API calls
- Bulk enrichment concurrency set to 1 worker to stay within Clearbit rate limits
- Daily scheduler at 3 AM auto-enriches only companies (not contacts) since companies are the higher-value entity for pipeline signal

**Open questions:**
- Should we trigger automatic enrichment when a new company is created via identity resolution (inline vs queued)?
- CompanyDetail.tsx would benefit from an "Enrich with Clearbit" button in the quick actions bar (line ~239, alongside AI Brief and View Deals buttons)

**Status:** completed

## 18:00 -- Stack Overflow connector for developer question tracking

**Task:** Build a Stack Overflow connector that tracks developer questions and answers tagged with a customer's product

**Changes:**
- backend/prisma/schema.prisma -- Added STACKOVERFLOW to SignalSourceType and IdentityType enums
- backend/src/services/stackoverflow-connector.ts -- Core connector service: configureStackOverflow, getStackOverflowConfig, getStackOverflowStatus, disconnectStackOverflow, syncStackOverflow, getStackOverflowConnectedOrganizations. Uses Stack Exchange API v2.3 (no auth required, optional key for 10K/day quota). Syncs questions and answers for tracked tags, creates stackoverflow_question and stackoverflow_answer signals with metadata (title, url, tags, score, views, answer count, is_answered). Identity resolution via SO user_id, website_url domain matching, and display name matching. Rate limiting (1s between calls, backoff header respect, quota_remaining monitoring).
- backend/src/routes/stackoverflow-connector.ts -- REST API routes: POST /connect (save tracked tags + optional API key), GET /status, POST /sync (via BullMQ), DELETE /disconnect. All ADMIN-only with authenticate + requireOrganization.
- backend/src/jobs/queue.ts -- Added STACKOVERFLOW_SYNC queue name, StackOverflowSyncJobData interface, stackoverflowSyncQueue instance
- backend/src/jobs/producers.ts -- Added enqueueStackOverflowSync with per-org deduplication
- backend/src/jobs/workers.ts -- Added Stack Overflow sync worker with scheduler sentinel handling
- backend/src/jobs/scheduler.ts -- Added 6-hour cron for Stack Overflow sync (questions change less rapidly), enqueueStackOverflowSyncForAllConnected helper
- backend/src/app.ts -- Mounted stackoverflow connector routes at /api/v1/connectors/stackoverflow
- frontend/src/pages/Settings.tsx -- Added Stack Overflow tab with: tag input (comma-separated), optional API key input (with stackapps.com registration link), connected status showing tracked tags as orange badges, sync stats (questions/answers/signals/contacts), update tags form, sync now + disconnect buttons, how-it-works setup guide

**Decisions:**
- Used 6-hour sync interval since Stack Overflow questions don't change as rapidly as real-time chat (Discord/Twitter)
- No auth required for Stack Exchange API read access, but optional API key raises daily quota from 300 to 10,000 requests
- Signal source type STACKOVERFLOW added to Prisma enum (consistent with DISCORD/TWITTER pattern) rather than reusing CUSTOM_WEBHOOK
- Identity resolution uses three strategies: (1) existing SO identity match, (2) website_url domain -> company matching, (3) display_name -> first/last name matching
- Free hosting domains (github.io, vercel.app, etc.) filtered from domain matching to avoid false positives
- Answers fetched in batch using semicolon-separated question IDs to minimize API calls

**Open questions:**
- Should we also track tag wiki edits and bounties as additional signal types?
- Would it be valuable to compute a "Stack Overflow influence score" based on reputation + accepted answers?

**Status:** completed

## Integration Sprint Summary
| Connector | Signal Types | Sync Interval | Lines |
|-----------|-------------|---------------|-------|
| Stack Overflow | questions, answers | 6 hours | ~900 |
| Twitter / X | mentions, questions, complaints, praise | 30 min | ~790 |
| Clearbit | company + contact enrichment | daily 3 AM | ~1,060 |
| **Total** | | | **~2,750** |

## Cumulative Integration Map
GitHub, npm, PyPI, Segment, Slack, HubSpot, Salesforce, Discord, Stack Overflow, Twitter/X, Clearbit — **11 data sources**

## 20:00 -- P34: Advanced analytics -- cohort analysis, funnel visualization, signal trends

**Task:** Build advanced analytics for DevSignal with cohort analysis, funnel visualization, signal trends by type, tier movement tracking, top movers, and source attribution

**Changes:**
- backend/src/services/advanced-analytics.ts -- New analytics service with 6 functions: getAccountCohorts (retention heat map by first-seen period), getSignalFunnel (conversion through signal stages), getSignalTrends (by type over time with day/week grouping), getTierMovement (upgrade/downgrade tracking from workflow runs), getTopMovers (rising/falling accounts by trend), getSourceAttribution (signal source pipeline contribution with avg scores). Uses Prisma raw queries for complex aggregations.
- backend/src/routes/advanced-analytics.ts -- REST API routes: GET /cohorts, /funnel, /trends, /tier-movement, /top-movers, /source-attribution. All authenticated with MEMBER role minimum.
- backend/src/app.ts -- Mounted advanced analytics routes at /api/v1/analytics/advanced
- frontend/src/pages/Analytics.tsx -- Full analytics page with 4 tabs: Signal Trends (SVG line chart with color-coded lines per type, 7d/30d/90d range selector), Cohort Analysis (heat map grid with period/metric toggles), Funnel (horizontal bar visualization with dropoff indicators and conversion rates), Insights (tier movement, source attribution bar chart, top risers/fallers). All charts are pure SVG/CSS with no external dependencies.
- frontend/src/App.tsx -- Added /analytics route
- frontend/src/components/Layout.tsx -- Added Analytics nav item with bar chart icon

**Decisions:**
- Mounted at /api/v1/analytics/advanced to avoid conflicting with existing /api/v1/analytics routes
- Cohort analysis groups accounts by first signal timestamp, not company creation date, since first signal is the true "first touch" moment
- Tier movement derived from WorkflowRun triggerData (score_changed events) since we do not store historical score snapshots
- Top movers use the trend field (RISING/FALLING) from AccountScore rather than computing deltas, since historical scores are not persisted
- All charts use pure SVG/CSS (no recharts, chart.js, etc.) per project convention
- Signal funnel defaults to ['github_star', 'docs_view', 'signup', 'api_call', 'feature_usage'] but accepts custom stages via query param

**Open questions:**
- Should we store historical score snapshots to enable precise score delta computation for top movers?
- Could add date range filtering to cohort analysis for more flexible exploration

**Status:** completed

## 22:00 -- P35: Zapier/Make webhook subscription integration

**Task:** Build outbound webhook triggers that Zapier/Make can subscribe to using the REST Hook pattern

**Changes:**
- backend/prisma/schema.prisma -- Added WebhookSubscription model (id, organizationId, targetUrl, event, hookId, secret, active) with indexes on [organizationId, event] and [organizationId, active]; added webhookSubscriptions relation to Organization
- backend/prisma/migrations/20260215000000_add_webhook_subscriptions/migration.sql -- SQL migration for the new table, indexes, and foreign key
- backend/src/services/webhook-subscriptions.ts -- Core subscription service: CRUD operations (createSubscription, deleteSubscription, listSubscriptions, getSubscription, toggleSubscription), fireEvent (enqueues to BullMQ webhook delivery queue for reliable retry), deliverToSubscription (direct HTTP delivery with HMAC-SHA256 signing), getTestPayload (generates realistic sample payloads per event type). Supports 8 event types: signal.created, contact.created, contact.updated, company.created, deal.created, deal.stage_changed, score.changed, tier.changed
- backend/src/services/webhook-events.ts -- Fire-and-forget event functions: fireSignalCreated, fireContactCreated, fireContactUpdated, fireCompanyCreated, fireDealCreated, fireDealStageChanged, fireScoreChanged (also fires tier.changed when tier differs). All wrapped in try/catch with error logging, never throw to caller
- backend/src/routes/webhook-subscriptions.ts -- REST API routes: GET / (list), GET /events (supported types), GET /:id, POST / (create), PATCH /:id (toggle active), DELETE /:id, POST /:id/test (send test payload). Supports both JWT and API key auth (Zapier uses API keys)
- backend/src/app.ts -- Mounted webhook subscription routes at /api/v1/webhooks/subscribe (before generic /webhooks)
- backend/src/services/signals.ts -- Added fireSignalCreated call after ingestSignal (fire-and-forget)
- backend/src/controllers/contacts.ts -- Added fireContactCreated after create, fireContactUpdated after update (both fire-and-forget)
- backend/src/controllers/companies.ts -- Added fireCompanyCreated after create (fire-and-forget)
- backend/src/controllers/deals.ts -- Added fireDealCreated after create, fireDealStageChanged after stage change (both fire-and-forget)
- backend/src/services/account-scores.ts -- Added fireScoreChanged after score recomputation when score value changes (fire-and-forget)
- frontend/src/pages/WebhookManager.tsx -- Full webhook management page: subscription table with URL, event badge (color-coded), created date, active toggle, test button, delete button; create modal with URL + event type dropdown; event type filter; secret reveal banner (shown once on creation, copyable); inline test results; Zapier/Make/API setup guide with code examples for HMAC signature verification
- frontend/src/App.tsx -- Added /webhooks route with WebhookManager component
- frontend/src/components/Layout.tsx -- Added Webhooks nav item with link icon

**Decisions:**
- Used BullMQ webhook delivery queue (existing, with 5 retries + exponential backoff) for reliable event delivery rather than inline HTTP calls
- Each subscription gets its own auto-generated HMAC-SHA256 signing secret for payload verification
- API key auth supported alongside JWT so Zapier can authenticate via x-api-key header without needing user sessions
- fire functions are async but non-blocking (errors logged, never thrown) to avoid impacting main request flow
- score.changed fires whenever score value changes; tier.changed fires as a separate event only when tier actually differs (subset of score.changed)
- Test endpoint delivers directly (not through queue) for immediate feedback

**Open questions:**
- Should we add delivery logging to WebhookDelivery table for subscription webhook deliveries (currently only used for WebhookEndpoint deliveries)?
- Should we add a webhook delivery history page in the frontend?

**Status:** completed

## 23:30 -- P33: Reddit connector for developer discussion tracking

**Task:** Build a Reddit connector for DevSignal that tracks developer discussions mentioning a customer's product in subreddits

**Changes:**
- backend/prisma/schema.prisma -- Added REDDIT to SignalSourceType and IdentityType enums
- backend/src/services/reddit-connector.ts -- Core connector service: configureReddit, getRedditConfig, getRedditStatus, disconnectReddit, syncReddit, getRedditConnectedOrganizations. Uses Reddit public JSON API (no auth required, appending .json to URLs). Searches across all of Reddit for keyword mentions and monitors specific subreddits. Signal classification: reddit_question (title contains ?), reddit_showcase (in showcase subreddits), reddit_discussion (default). Identity resolution via existing REDDIT ContactIdentity, GitHub username match, and display name matching. Rate limiting (1s between requests, 429 with retry). User-Agent: DevSignal/1.0.
- backend/src/routes/reddit-connector.ts -- REST API routes: POST /connect (save keywords + subreddits), GET /status, POST /sync (via BullMQ), DELETE /disconnect. All ADMIN-only with authenticate + requireOrganization.
- backend/src/jobs/queue.ts -- Added REDDIT_SYNC queue name, RedditSyncJobData interface, redditSyncQueue instance
- backend/src/jobs/producers.ts -- Added enqueueRedditSync with per-org deduplication
- backend/src/jobs/workers.ts -- Added Reddit sync worker with scheduler sentinel handling
- backend/src/jobs/scheduler.ts -- Added 2-hour cron for Reddit sync (content less time-sensitive), enqueueRedditSyncForAllConnected helper
- backend/src/app.ts -- Mounted reddit connector routes at /api/v1/connectors/reddit
- frontend/src/pages/Settings.tsx -- Added Reddit tab with: keywords input (comma-separated product names), subreddits input (comma-separated without r/ prefix), suggested subreddits for devtools (programming, webdev, devops, node, reactjs, golang, rust, python, typescript, javascript, docker, kubernetes, aws, selfhosted), connected status showing keywords and subreddits as badges, sync stats (posts/comments/signals/contacts), update config form, sync now + disconnect buttons, how-it-works setup guide

**Decisions:**
- Used 2-hour sync interval since Reddit discussions are less time-sensitive than real-time chat (Discord) or mentions (Twitter)
- No Reddit API key or OAuth required -- uses public JSON API by appending .json to URLs
- Signal types: reddit_question (? in title or question words), reddit_showcase (in showcase subreddits like showmyproject/sideproject), reddit_discussion (default)
- Identity resolution uses GitHub username match as primary heuristic since many developers reuse the same username across platforms
- Showcase subreddits (showmyproject, sideproject, indiehackers, startups, etc.) are hardcoded for accurate classification
- Keyword matching in monitored subreddits uses case-insensitive regex to catch all variations

**Open questions:**
- Should we also fetch and process comments from posts that match keywords (would require additional API calls per post)?
- Would a sentiment analysis layer (similar to Twitter connector) add value for Reddit discussions?

**Status:** completed

## 24:00 -- P36: PostHog connector for product analytics signal ingestion

**Task:** Build a PostHog connector that imports product analytics events (pageviews, signups, feature usage) as signals for developer signal intelligence

**Changes:**
- backend/prisma/schema.prisma -- Added POSTHOG to SignalSourceType and IdentityType enums
- backend/prisma/migrations/20260215010000_add_posthog_to_enums/migration.sql -- SQL migration for new enum values
- backend/src/services/posthog-connector.ts -- Core connector service with dual ingestion modes: (1) API polling via PostHog REST API (GET /api/projects/{id}/events), (2) inbound webhook for real-time events. Functions: configurePostHog (validates credentials via test API call), getPostHogStatus, disconnectPostHog, handlePostHogWebhook (processes inbound webhooks with optional HMAC signature verification, normalizes 3 payload shapes), syncPostHogEvents (incremental pull with per-event-type queries), getPostHogConnectedOrganizations. Signal type mapping: $pageview->page_view, signup/sign_up/signed_up->signup, feature_used/feature_usage->feature_usage, custom->posthog_{sanitized_name}. Skips low-value events ($pageleave, $autocapture). Identity resolution via PostHog distinct_id (4 strategies: existing POSTHOG identity, email match from $set.email/$user_email/person.properties, email ContactIdentity, distinct_id-as-email). Metadata includes url, pathname, referrer, browser, os, device type, plus up to 20 custom properties (skipping internal $ properties and secrets).
- backend/src/routes/posthog-connector.ts -- REST API routes: POST /webhook/:sourceId (public, no JWT, verified by sourceId + optional HMAC), POST /connect (ADMIN), GET /status, POST /sync (via BullMQ), DELETE /disconnect (ADMIN)
- backend/src/jobs/queue.ts -- Added POSTHOG_SYNC queue name, PostHogSyncJobData interface, posthogSyncQueue instance
- backend/src/jobs/producers.ts -- Added enqueuePostHogSync with per-org deduplication
- backend/src/jobs/workers.ts -- Added PostHog sync worker with scheduler sentinel handling
- backend/src/jobs/scheduler.ts -- Added 1-hour cron for PostHog sync (product events are time-sensitive), enqueuePostHogSyncForAllConnected helper
- backend/src/app.ts -- Mounted posthog connector routes at /api/v1/connectors/posthog
- frontend/src/pages/Settings.tsx -- Added PostHog tab with: host input (default app.posthog.com with self-hosted note), project ID input, personal API key input, tracked events input (comma-separated, defaults to $pageview/signup/feature_used), optional webhook secret, copyable webhook URL for real-time ingestion, connected status with host/project/tracked events display, sync stats (events processed/signals created/contacts resolved), sync now + disconnect buttons, how-it-works setup guide

**Decisions:**
- Used 1-hour sync interval (more frequent than Discord/Twitter at 30min but less than HubSpot at 15min) because product analytics events are high-value and time-sensitive for identifying active users
- Dual ingestion: webhook for real-time (recommended for production), API polling as fallback/supplement. Both use same identity resolution and signal creation logic
- PostHog webhook signature verification optional (not all PostHog setups support HMAC) -- webhook URL uses sourceId as a shared secret
- Email extraction checks 5 locations: $set.email, properties.email, $user_email, person.properties.email, distinct_id (if email-shaped)
- Signal metadata limited to 20 custom properties (skipping $ internal props) to prevent bloated payloads
- Identity resolution creates POSTHOG ContactIdentity links for future fast lookups (confidence 0.85-0.95 depending on match strategy)
- PostHog events like $pageleave and $autocapture are silently dropped (low signal value)

**Open questions:**
- Should we add a PostHog feature flag sync to also import feature flag evaluations as signals?
- Would it be valuable to compute "product engagement score" from PostHog events as a separate scoring dimension?

**Status:** completed

## 25:00 -- Landing page redesign for higher conversion

**Task:** Complete rewrite of the DevSignal landing page with 11 sections optimized for conversion

**Changes:**
- frontend/src/pages/Landing.tsx -- Full rewrite with: (1) Fixed nav "View Docs" link to /developers, (2) New hero with updated headline "Turn Developer Signals Into Pipeline", dual CTAs (green primary + outline demo), social proof company pills, (3) New product mockup section with pure CSS/HTML dashboard showing 3 account cards with PQA scores/tier badges and live signal feed, (4) Rewritten "How It Works" 3-step flow (connect in 2 min / see intelligence / act on signals), (5) New integration logos grid with 14 integrations as hover cards, (6) Enhanced features grid with metric line per card, (7) New testimonials section with 3 quotes + star ratings + metrics bar, (8) Competitive comparison as a proper 3-column table (DevSignal vs Common Room vs Reo.dev), (9) New FAQ accordion with 8 questions and click-to-expand, (10) Improved bottom CTA with risk reversal messaging, (11) Footer with Developers link. All sections mobile responsive, consistent Tailwind styling, no new npm dependencies.

**Decisions:**
- Used useState for FAQ accordion instead of adding an external accordion library
- Built product mockup as a pure React component with inline data rather than static image, making it easy to update
- Replaced pricing section with comparison table since /pricing page already exists as dedicated page
- Used emerald-600 for primary CTA to differentiate from indigo navigation buttons
- Testimonials use fictional but clearly attributed quotes (role + company type, no fake names)
- Comparison table highlights DevSignal wins with green checkmarks

**Open questions:**
- Should we add actual company logos once we have permission from early customers?
- Should the demo link (#demo) scroll to mockup or eventually link to a Loom/video embed?

**Status:** completed

## 26:00 -- Pricing page overhaul for conversion optimization

**Task:** Complete rewrite of Pricing.tsx to maximize conversion with annual toggle, comparison table, FAQ, and usage estimator

**Changes:**
- frontend/src/pages/Pricing.tsx -- Full rewrite with: (1) Monthly/Annual billing toggle with animated pill switch defaulting to monthly, annual shows 20% discount with green badge, (2) Four pricing tiers (Free $0, Pro $79/$63, Growth $199/$159, Scale $299/$239) with correct features per spec, MOST POPULAR badge on Pro, consistent CTAs (Start Free / Start 14-day Trial / Talk to Sales), (3) Feature comparison table with 7 categories (Contacts and Signals, Signal Sources, Scoring and AI, Automation, Integrations, Admin and Security, Support) using checkmarks/X marks/specific limits, sticky header on scroll, alternating row colors, Pro column highlighted, (4) Usage estimator with 3 sliders (developers 100-100K, repos 1-50, team size 1-50), recommends tier with gradient text and direct CTA, (5) FAQ accordion with 8 questions using plus/minus icons and animated open/close, (6) Bottom CTA updated to Schedule a 15-minute demo with Start Free primary and Schedule a Demo mailto secondary

**Decisions:**
- Removed unused ChevronDownIcon SVG component (replaced by Plus/Minus icons for FAQ accordion)
- Added XMarkIcon for comparison table false values
- Usage estimator formula: developers * 5 = contacts, repos * 1000 = signals/mo
- Annual prices shown as monthly equivalent with yearly total below
- Feature comparison table uses subtle indigo background on Pro column to draw attention
- Sticky header uses fixed positioning with backdrop blur when table scrolls past viewport top
- FAQ uses max-height transition for smooth open/close animation

**Open questions:**
- Should the Schedule a Demo link go to a Calendly embed instead of mailto?
- Should the usage estimator persist slider values in URL params for sharing?

**Status:** completed

## 27:00 -- Sidebar nav reorganization and dashboard empty state improvements

**Task:** Redesign sidebar navigation (reduce from 18 items to ~10 visible) and improve dashboard empty states for new/active users

**Changes:**
- frontend/src/components/Layout.tsx -- Replaced flat navItems array with grouped navSections structure (Intelligence, Automation, Analysis, Settings). Each section has uppercase gray label. Settings section is collapsible with chevron toggle, default collapsed. Auto-expands when user navigates to a settings page. Removed Activities from main nav. Added new icons: home icon for Dashboard, play icon for Workflows, book icon for Playbooks, puzzle icon for Integrations. Added ChevronIcon component. Replaced mobile title resolver with dynamic function that searches all sections. Total visible items when Settings collapsed: 10 (down from 18).
- frontend/src/pages/Dashboard.tsx -- Added OnboardingHero component shown when contacts < 5 (gradient banner with Connect GitHub, Import Contacts, Explore Demo Data CTAs). Added DailyDigest card at top of active dashboard showing today's signal/contact counts and hottest account insight. Added RecentActivityFeed component with signal-type-aware badges, relative timestamps, and clickable links to companies/contacts. Improved all empty states: Hot Accounts shows explanation about 80+ score threshold, Deal Pipeline explains auto-creation from WARM accounts, Recent Signals shows CTA to connect a source. Added formatRelativeTime helper, formatSignalTitle for human-readable feed items, SignalTypeBadge for color-coded signal type indicators.

**Decisions:**
- Settings auto-expands if user navigates directly to a settings sub-page (e.g. via bookmark)
- Dashboard uses contacts < 5 as the threshold for "new user" to show onboarding hero
- Daily Digest card only renders when there is meaningful activity to report
- Activity feed merges signals + activities and shows last 10, sorted by recency
- Signal type badges use abbreviated labels (GH, npm, S) to stay compact
- Relative time formatting: just now / Xm / Xh / Xd / date

**Status:** completed

## 28:00 -- Docker production deployment configuration

**Task:** Create unified multi-stage Docker build, production compose, and server entry points for deploying the full DevSignal stack

**Changes:**
- Dockerfile -- New unified multi-stage build (4 stages): (1) backend-builder compiles TypeScript via tsc and generates Prisma client, (2) frontend-builder runs Vite build, (3) deps installs production-only node_modules + re-generates Prisma, (4) runner assembles minimal alpine image with compiled backend, frontend static files, and Prisma. Non-root user, healthcheck, prisma migrate deploy on startup.
- docker-compose.prod.yml -- Production compose with: postgres:16-alpine (healthcheck + persistent volume), redis:7-alpine (AOF persistence + healthcheck), app service (builds from root Dockerfile, serves API + static frontend on port 3000, ENABLE_WORKERS=false), worker service (same image, runs dist/worker.js with ENABLE_WORKERS=true). All secrets via .env file.
- .dockerignore -- Updated to exclude e2e tests, playwright artifacts, and properly ignore Dockerfiles to prevent recursive context
- backend/src/server.ts -- New production server entry point: boots Express, mounts GraphQL, serves Vite-built frontend as static files via express.static with SPA fallback (index.html for all non-API routes), graceful shutdown with 30s forced timeout
- backend/src/worker.ts -- Standalone BullMQ worker entry point: starts all workers and scheduler without HTTP server, for running in dedicated container
- backend/src/app.ts -- Changed catch-all 404 handler to only match /api and /graphql paths so non-API routes fall through to the SPA fallback in production

**Decisions:**
- Created docker-compose.prod.yml as a separate file rather than replacing existing docker-compose.yml which is used for the split backend/frontend architecture
- SPA fallback skips /api, /health, /graphql, /api-docs paths to avoid interfering with backend routes
- Worker container depends on app service being healthy (ensures migrations ran before workers start)
- 4-stage Docker build keeps the production image minimal (~150MB vs ~1GB if all dev deps were included)
- Non-root user (appuser:1001) in production image for security
- Static assets served with 1-year immutable cache headers (Vite adds content hashes to filenames)

**Open questions:**
- Should we add a production nginx reverse proxy in front of the app for SSL termination and connection pooling?
- Should we add container resource limits (memory/CPU) to the compose file?

**Status:** completed

## 29:00 -- Launch prep: Railway config, tests, launch blockers, Show HN strategy

**Task:** Prepare DevSignal for production launch — Railway deployment config, unit test coverage for new connectors, fix launch-blocking issues, draft Show HN post

**Changes:**
- backend/src/config/redis.ts — Added `family: 0` to both Redis and BullMQ connections for Railway IPv6 dual-stack networking
- railway-app.toml — Railway config for app service (Dockerfile build, health check, restart policy, prisma migrate on start)
- railway-worker.toml — Railway config for worker service (BullMQ-only, no HTTP port)
- backend/src/services/__tests__/reddit-connector.test.ts — 28 unit tests covering configure, sync, disconnect, signal classification, identity resolution, edge cases
- backend/src/services/__tests__/posthog-connector.test.ts — 29 unit tests covering configure, webhook handling (3 payload shapes), sync, identity resolution, event filtering
- backend/src/services/__tests__/webhook-subscriptions.test.ts — 28 unit tests covering CRUD, HMAC signing, event delivery, all 8 event types, error handling
- frontend/src/pages/Landing.tsx — Replaced fake "Trusted by" company names with category pills; replaced fictional testimonials with honest value propositions
- frontend/src/pages/Pricing.tsx — Fixed self-hosting FAQ from "Not currently" to "Yes" (Docker Compose exists)
- LICENSE — Added MIT license
- docs/show-hn-strategy.md — Complete Show HN launch strategy: post copy, founder comment, timing, demo mode design, Reddit cross-posts
- pauls-to-dos.md — Actionable items requiring Paul's access (repo rename/visibility, Railway account, domain, Stripe, OAuth apps)

**Decisions:**
- Railway Pro plan (~$14/mo after credit) over Hobby plan for team access and higher limits
- MIT license over Apache 2.0 for simplicity (HN audience prefers it)
- Replaced fake social proof with category-based pills ("CLI Tools", "API Platforms", etc.) to be honest without losing credibility
- Existing DevPortal.tsx (2,123 lines, 5 tabs) is sufficient for launch — did not create duplicate Developers.tsx
- Show HN timing: Tuesday/Wednesday 8-9 AM ET recommended

**Test results:** 288/288 passing (85 new tests, 19 suites, 0 regressions)

**Status:** completed

## 30:00 -- Demo mode: public self-service demo with pre-seeded data

**Task:** Build a public demo mode that lets visitors explore DevSignal with pre-seeded data without signing up. Landing page "Explore Live Demo" button creates a standalone demo environment and redirects to the dashboard.

**Changes:**
- backend/src/services/demo-seed.ts -- New service for public demo environment creation. Creates a standalone demo org ("DevSignal Demo"), demo user, JWT tokens, and seeds rich demo data: 8 companies spanning HOT/WARM/COLD tiers (Acme DevTools score 92, NovaCLI 84, CloudForge 71, DataPipe Labs 67, Synthwave AI 55, ByteShift 42, Lumina Systems 31, OpenGrid 18), 18 contacts distributed across companies with GitHub usernames and titles, 3 deals ($50K Acme Negotiation, $25K NovaCLI Activated, $15K CloudForge Sales Qualified), 395+ signals over 30 days (github_star, github_fork, github_issue, github_pr, npm_download, pypi_download, stackoverflow_question, stackoverflow_answer, twitter_mention, twitter_praise, reddit_discussion, reddit_question, discord_message, slack_message, page_view, signup, feature_usage, api_call), 4 signal sources (GitHub, npm, Product Analytics, Community), 2 active workflows ("Slack alert on HOT account", "Auto-sync to HubSpot"), 1 pre-generated AI brief for Acme DevTools, account scores with 5-factor breakdowns, and company/contact tags. Cleans up existing demo org before re-seeding for idempotency.
- backend/src/routes/demo.ts -- Restructured: public endpoints (POST /seed creates demo env + returns JWT, GET /status checks if demo exists) require no auth; authenticated endpoints renamed to /org-status and /org-seed to avoid conflicts. POST /seed returns accessToken, refreshToken, organizationId, user object, and counts.
- frontend/src/pages/Landing.tsx -- Replaced "Watch 2-min Demo" link with "Explore Live Demo" button. On click: calls POST /api/v1/demo/seed, stores JWT tokens in localStorage, redirects to dashboard via full page reload. Shows spinner + "Loading demo..." while seeding. Error state with retry message.
- frontend/src/components/DemoModeBanner.tsx -- New persistent banner component shown at the top of every page when in demo mode. Detects demo mode by checking if org name is "DevSignal Demo". Displays "You're exploring demo data." with a "Create free account" link that clears demo tokens and redirects to /register.
- frontend/src/components/Layout.tsx -- Added DemoModeBanner import, wrapped layout in flex-col container with DemoModeBanner at top so banner appears above sidebar on every page.
- frontend/src/components/DemoDataBanner.tsx -- Updated API endpoints from /demo/status to /demo/org-status and /demo/seed to /demo/org-seed for compatibility with new route structure.

**Decisions:**
- Public demo creates a fresh isolated org each time (cleans up previous demo org) rather than sharing a single read-only org, so visitors can freely edit data
- Demo user email uses timestamp suffix (demo-{timestamp}@devsignal.dev) for uniqueness during cleanup
- Signals distributed proportionally to company scores (Acme gets 147, OpenGrid gets 4) with HOT companies getting more recent signals
- Used 4 separate signal sources (GitHub, npm, Product, Community) rather than one catch-all for realistic source attribution
- AI brief stored both as AccountBrief record and in company.customFields.aiBrief for different display contexts
- DemoModeBanner uses org name check ("DevSignal Demo") rather than a flag in localStorage for reliability
- Full page reload after demo seed (window.location.href) rather than React Router navigate to ensure AuthProvider picks up new tokens cleanly
- Existing authenticated demo endpoints renamed with /org- prefix to avoid route conflicts with public endpoints

**Status:** completed

## 31:00 -- Full password reset flow (backend + frontend)

**Task:** Wire up the "Forgot password?" link on Login with a complete password reset flow: request reset email, validate token, set new password.

**Changes:**
- backend/prisma/schema.prisma -- Added `passwordResetToken` (String?) and `passwordResetExpires` (DateTime?) fields to User model
- backend/prisma/migrations/20260215030000_add_password_reset_fields/migration.sql -- SQL migration adding the two columns
- backend/src/services/password-reset.ts -- New service: `requestPasswordReset(email)` generates crypto.randomBytes(32) token, stores SHA-256 hash + 1hr expiry on User, sends password_reset email via existing sendTransactionalEmail. `resetPassword(token, newPassword)` validates hashed token + expiry, bcrypt-hashes new password, clears reset fields + refresh token. Custom `ResetTokenError` class for controller-level error handling.
- backend/src/controllers/auth.ts -- Added `forgotPassword` controller (always 200, never leaks email existence) and `handleResetPassword` controller (400 on bad/expired token, 200 on success). Imported password-reset service.
- backend/src/routes/auth.ts -- Added Zod schemas for forgot-password (email) and reset-password (token + password min 8). Registered POST /forgot-password and POST /reset-password routes with OpenAPI docs.
- frontend/src/pages/ForgotPassword.tsx -- New page: email input, submit calls POST /api/v1/auth/forgot-password, success state shows "Check your email" with envelope icon. Link back to /login.
- frontend/src/pages/ResetPassword.tsx -- New page: reads token from URL ?token=xxx, new password + confirm password form, min 8 chars validation, passwords-match validation. Success state with auto-redirect to /login after 3s. Error state with link to request new reset. Missing-token state.
- frontend/src/pages/Login.tsx -- Changed forgot password from `<a href="#">` with preventDefault to `<Link to="/forgot-password">`.
- frontend/src/App.tsx -- Added lazy imports for ForgotPassword and ResetPassword, added /forgot-password and /reset-password routes (public, redirect to / if authenticated).

**Decisions:**
- Token stored as SHA-256 hash in DB (raw token only sent via email link) -- same pattern as refreshToken storage
- Always return 200 on forgot-password even if email doesn't exist (OWASP recommendation)
- Reset clears refreshToken to force re-login on all devices after password change
- Used existing sendTransactionalEmail with the pre-built password_reset template (already had {{name}} and {{resetUrl}} variables)
- Frontend pages match existing Login/Register visual style (indigo-600 buttons, rounded-xl cards, gray-50 background)

**Status:** completed

## Next Steps
- Deploy to Railway (waiting on Paul: account setup, payment method)
- Create README.md for GitHub repo (architecture diagram, quickstart, screenshots)
- Rename repo to `devsignal` and make public (waiting on Paul: GitHub access)
- Purchase domain `devsignal.dev` (waiting on Paul)
- Set up Stripe billing (waiting on Paul: account creation)
- Build mobile-responsive dashboard
- LinkedIn connector (company page followers, employee signals)
